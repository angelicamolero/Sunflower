{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruben.mavarez\\\\Desktop\\\\sunflower-mast\\\\Sunflower\\\\src\\\\context\\\\CartContext.js\";\nimport React, { createContext, useState } from 'react';\nimport dataJson from '../data.json';\nexport const CartContext = createContext();\n\nconst CartProvider = ({\n  children\n}) => {\n  const [cart, addToCart] = useState([]);\n  const [count, setCount] = useState(1);\n\n  const sumItems = cartItems => {\n    let itemCount = cartItems.reduce((total, product) => total + product.quantity, 0);\n    return itemCount;\n  };\n\n  const selectProduct = prodID => {\n    const product = dataJson.filter(p => p.id === prodID)[0];\n    product.quantity = 1;\n\n    if (!cart.find(item => item.id === product.id)) {\n      addToCart([...cart, product //tambien puede ser ...product y borrar el [0]\n      ]);\n    } else {\n      addMore(product);\n    }\n  };\n\n  const addMore = prodQty => {\n    setCount(count + 1);\n    prodQty.quantity = count;\n\n    if (count === 10) {\n      alert('No mas de 10');\n      setCount(10);\n    }\n  };\n\n  const lessMore = () => {\n    setCount(count - 1);\n\n    if (count === 1) {\n      alert('No menos de 1');\n      setCount(1);\n    }\n  };\n\n  const deleteProduct = prodId => {\n    const product = cart.findIndex(p => p.id === prodId);\n    addToCart(product);\n  };\n\n  const cleanCart = () => addToCart([]);\n\n  return /*#__PURE__*/React.createElement(CartContext.Provider, {\n    value: {\n      cart,\n      qty: cart.length,\n      count,\n      selectProduct,\n      addMore,\n      lessMore,\n      deleteProduct,\n      cleanCart\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, children);\n};\n\nexport default CartProvider;","map":{"version":3,"sources":["C:/Users/ruben.mavarez/Desktop/sunflower-mast/Sunflower/src/context/CartContext.js"],"names":["React","createContext","useState","dataJson","CartContext","CartProvider","children","cart","addToCart","count","setCount","sumItems","cartItems","itemCount","reduce","total","product","quantity","selectProduct","prodID","filter","p","id","find","item","addMore","prodQty","alert","lessMore","deleteProduct","prodId","findIndex","cleanCart","qty","length"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA8BC,QAA9B,QAA6C,OAA7C;AAEA,OAAOC,QAAP,MAAqB,cAArB;AAEA,OAAO,MAAMC,WAAW,GAAGH,aAAa,EAAjC;;AAEP,MAAMI,YAAY,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AACjC,QAAM,CAACC,IAAD,EAAOC,SAAP,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,CAAD,CAAlC;;AAEA,QAAMS,QAAQ,GAAGC,SAAS,IAAI;AAC1B,QAAIC,SAAS,GAAGD,SAAS,CAACE,MAAV,CAAiB,CAACC,KAAD,EAAQC,OAAR,KAAoBD,KAAK,GAAGC,OAAO,CAACC,QAArD,EAA+D,CAA/D,CAAhB;AAEA,WAAQJ,SAAR;AACH,GAJD;;AAMA,QAAMK,aAAa,GAAIC,MAAD,IAAY;AAC9B,UAAMH,OAAO,GAAGb,QAAQ,CAACiB,MAAT,CAAgBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASH,MAA9B,EAAsC,CAAtC,CAAhB;AACAH,IAAAA,OAAO,CAACC,QAAR,GAAmB,CAAnB;;AACA,QAAG,CAACV,IAAI,CAACgB,IAAL,CAAUC,IAAI,IAAIA,IAAI,CAACF,EAAL,KAAYN,OAAO,CAACM,EAAtC,CAAJ,EAA8C;AAC1Cd,MAAAA,SAAS,CAAC,CACN,GAAGD,IADG,EAENS,OAFM,CAEE;AAFF,OAAD,CAAT;AAIH,KALD,MAKO;AACHS,MAAAA,OAAO,CAACT,OAAD,CAAP;AACH;AAGJ,GAbD;;AAcA,QAAMS,OAAO,GAAIC,OAAD,IAAY;AACxBhB,IAAAA,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;AACAiB,IAAAA,OAAO,CAACT,QAAR,GAAmBR,KAAnB;;AACA,QAAGA,KAAK,KAAK,EAAb,EAAgB;AACZkB,MAAAA,KAAK,CAAC,cAAD,CAAL;AACAjB,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;AACJ,GAPD;;AAQA,QAAMkB,QAAQ,GAAG,MAAK;AAClBlB,IAAAA,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;;AACA,QAAGA,KAAK,KAAK,CAAb,EAAe;AACXkB,MAAAA,KAAK,CAAC,eAAD,CAAL;AACAjB,MAAAA,QAAQ,CAAC,CAAD,CAAR;AACH;AACJ,GAND;;AAQA,QAAMmB,aAAa,GAAIC,MAAD,IAAY;AAC9B,UAAMd,OAAO,GAAGT,IAAI,CAACwB,SAAL,CAAeV,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASQ,MAA7B,CAAhB;AACAtB,IAAAA,SAAS,CAACQ,OAAD,CAAT;AACH,GAHD;;AAKA,QAAMgB,SAAS,GAAG,MAAMxB,SAAS,CAAC,EAAD,CAAjC;;AAEA,sBACI,oBAAC,WAAD,CAAa,QAAb;AACI,IAAA,KAAK,EAAE;AACHD,MAAAA,IADG;AAEH0B,MAAAA,GAAG,EAAE1B,IAAI,CAAC2B,MAFP;AAGHzB,MAAAA,KAHG;AAIHS,MAAAA,aAJG;AAKHO,MAAAA,OALG;AAMHG,MAAAA,QANG;AAOHC,MAAAA,aAPG;AAQHG,MAAAA;AARG,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYK1B,QAZL,CADJ;AAgBH,CA/DD;;AAiEA,eAAeD,YAAf","sourcesContent":["import React, {createContext, useState} from 'react';\r\n\r\nimport dataJson from '../data.json';\r\n\r\nexport const CartContext = createContext();\r\n\r\nconst CartProvider = ({children}) => {\r\n    const [cart, addToCart] = useState([]);\r\n    const [count, setCount] = useState(1);\r\n\r\n    const sumItems = cartItems => {\r\n        let itemCount = cartItems.reduce((total, product) => total + product.quantity, 0);\r\n\r\n        return  itemCount\r\n    }\r\n\r\n    const selectProduct = (prodID) => {\r\n        const product = dataJson.filter(p => p.id === prodID)[0];\r\n        product.quantity = 1;\r\n        if(!cart.find(item => item.id === product.id)){\r\n            addToCart([\r\n                ...cart,\r\n                product //tambien puede ser ...product y borrar el [0]\r\n            ]);\r\n        } else {\r\n            addMore(product)\r\n        }\r\n\r\n\r\n    }\r\n    const addMore = (prodQty) =>{\r\n        setCount(count + 1)\r\n        prodQty.quantity = count\r\n        if(count === 10){\r\n            alert('No mas de 10')\r\n            setCount(10)\r\n        }\r\n    }\r\n    const lessMore = () =>{\r\n        setCount(count - 1)\r\n        if(count === 1){\r\n            alert('No menos de 1')\r\n            setCount(1)\r\n        }\r\n    }\r\n\r\n    const deleteProduct = (prodId) => {\r\n        const product = cart.findIndex(p => p.id === prodId)\r\n        addToCart(product);\r\n    }\r\n\r\n    const cleanCart = () => addToCart([]);\r\n\r\n    return ( \r\n        <CartContext.Provider\r\n            value={{\r\n                cart,\r\n                qty: cart.length,\r\n                count,\r\n                selectProduct,\r\n                addMore,\r\n                lessMore,\r\n                deleteProduct,\r\n                cleanCart\r\n            }}\r\n        >\r\n            {children}\r\n        </CartContext.Provider>\r\n     );\r\n}\r\n \r\nexport default CartProvider;"]},"metadata":{},"sourceType":"module"}